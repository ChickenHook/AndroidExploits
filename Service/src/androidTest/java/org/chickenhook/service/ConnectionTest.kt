package org.chickenhook.service

import android.graphics.ColorSpace.Connector
import android.util.Log
import androidx.test.ext.junit.runners.AndroidJUnit4
import junit.framework.TestCase.assertTrue
import kotlinx.coroutines.runBlocking
import org.junit.Assert
import org.junit.Test
import org.junit.runner.RunWith

@RunWith(AndroidJUnit4::class)
class ConnectionTest {
    @Test
    fun checkDeviceTest() {
        val service = AndroidExploitsService()
        val deviceInfo = service.collectDeviceInfo()
        Assert.assertTrue(deviceInfo.data.size > 0)
        Log.d("ServiceTest", "DeviceInfo [+] <$deviceInfo>")
        val connector = Connector()
        runBlocking {
            val res = connector.checkDevice("",deviceInfo)
            assertTrue(res!!.score > 0)
        }
    }
}